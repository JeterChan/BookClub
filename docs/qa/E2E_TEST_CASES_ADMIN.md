# 讀書會管理員整合測試案例 (Admin E2E Test Cases)

**測試日期**: 2025-12-19  
**測試範圍**: Epic 2.4 - 讀書會管理（管理員權限）  
**測試框架**: WebdriverIO 8.x + Mocha + Chrome Headless  
**測試環境**: 生產環境（Vercel + Render）  

## 測試帳號資訊

| 角色 | Email | 密碼 | 用途 |
|-----|-------|-----|------|
| 管理員/擁有者 | jjwang1118@gmail.com | ******** | 主要管理員測試帳號 |
| 普通成員 | 980072g@gmail.com | ******** | 成員管理測試對象 |

---

## 測試案例總覽

### A. 讀書會設定管理測試 (8 個測試案例)

#### TC-A-001: 管理員可以訪問讀書會設定頁面
- **優先級**: P0
- **前置條件**: 
  - 用戶以管理員身份登入
  - 已加入至少一個讀書會且為管理員
- **測試步驟**:
  1. 登入系統（jjwang1118@gmail.com）
  2. 導航至讀書會詳細頁面
  3. 點擊「設定」按鈕或導航至 `/clubs/:clubId/settings`
- **預期結果**: 
  - 成功進入讀書會設定頁面
  - 頁面顯示讀書會資訊編輯表單
  - 頁面顯示成員管理區域

#### TC-A-002: 管理員可以編輯讀書會名稱
- **優先級**: P0
- **前置條件**: 已進入讀書會設定頁面
- **測試步驟**:
  1. 找到讀書會名稱輸入框
  2. 清空並輸入新名稱「管理員測試讀書會 - 更新」
  3. 點擊儲存按鈕
- **預期結果**: 
  - 顯示成功訊息
  - 讀書會名稱成功更新
  - 重新載入頁面後新名稱仍保留

#### TC-A-003: 管理員可以編輯讀書會簡介
- **優先級**: P0
- **前置條件**: 已進入讀書會設定頁面
- **測試步驟**:
  1. 找到讀書會簡介文字框
  2. 清空並輸入新簡介
  3. 點擊儲存按鈕
- **預期結果**: 
  - 顯示成功訊息
  - 簡介成功更新

#### TC-A-004: 管理員可以上傳/更新讀書會封面圖片
- **優先級**: P1
- **前置條件**: 已進入讀書會設定頁面
- **測試步驟**:
  1. 找到封面圖片上傳區域
  2. 選擇測試圖片檔案
  3. 確認上傳
- **預期結果**: 
  - 圖片成功上傳至 Cloudinary
  - 預覽圖顯示新上傳的圖片
  - 儲存後圖片在讀書會頁面顯示

#### TC-A-005: 管理員可以切換讀書會可見性（公開/私密）
- **優先級**: P0
- **前置條件**: 已進入讀書會設定頁面
- **測試步驟**:
  1. 找到可見性切換選項
  2. 將讀書會從「公開」切換為「私密」
  3. 點擊儲存按鈕
- **預期結果**: 
  - 可見性成功切換
  - 非成員無法在探索頁面看到該讀書會

#### TC-A-006: 管理員可以查看讀書會統計資訊
- **優先級**: P2
- **前置條件**: 已進入讀書會設定頁面
- **測試步驟**:
  1. 查看設定頁面統計區域
- **預期結果**: 
  - 顯示成員總數
  - 顯示活動數量
  - 顯示討論主題數量

#### TC-A-007: 擁有者可以轉讓擁有者身份
- **優先級**: P1
- **前置條件**: 
  - 以擁有者身份登入
  - 讀書會有其他成員
- **測試步驟**:
  1. 導航至成員管理區域
  2. 選擇一位成員
  3. 點擊「轉讓擁有者」選項
  4. 確認轉讓
- **預期結果**: 
  - 顯示轉讓確認對話框
  - 轉讓成功後該成員成為新擁有者
  - 原擁有者降級為管理員

#### TC-A-008: 非擁有者管理員無法看到轉讓選項
- **優先級**: P1
- **前置條件**: 以管理員（非擁有者）身份登入
- **測試步驟**:
  1. 導航至成員管理區域
  2. 檢查成員操作選項
- **預期結果**: 
  - 不顯示「轉讓擁有者」選項
  - 僅顯示其他管理操作（移除、設為管理員等）

---

### B. 成員管理測試 (8 個測試案例)

#### TC-A-009: 管理員可以查看所有成員列表
- **優先級**: P0
- **前置條件**: 
  - 以管理員身份登入
  - 讀書會有多位成員
- **測試步驟**:
  1. 導航至讀書會設定頁面
  2. 切換至「成員管理」標籤
- **預期結果**: 
  - 顯示所有成員列表
  - 每位成員顯示頭像、名稱、角色（擁有者/管理員/成員）
  - 顯示成員加入日期

#### TC-A-010: 管理員可以查看待審核的加入請求
- **優先級**: P0
- **前置條件**: 
  - 讀書會為私密狀態
  - 有用戶發送加入請求
- **測試步驟**:
  1. 導航至成員管理頁面
  2. 查看「待審核請求」區域
- **預期結果**: 
  - 顯示所有待審核的加入請求
  - 每個請求顯示申請者資訊和申請時間

#### TC-A-011: 管理員可以批准加入請求
- **優先級**: P0
- **前置條件**: 
  - 有待審核的加入請求
  - 以管理員身份登入
- **測試步驟**:
  1. 找到待審核請求
  2. 點擊「批准」按鈕
  3. 確認批准
- **預期結果**: 
  - 請求狀態更新為已批准
  - 申請者成為讀書會成員
  - 申請者收到通知（NEW_MEMBER）

#### TC-A-012: 管理員可以拒絕加入請求
- **優先級**: P0
- **前置條件**: 
  - 有待審核的加入請求
- **測試步驟**:
  1. 找到待審核請求
  2. 點擊「拒絕」按鈕
  3. 確認拒絕
- **預期結果**: 
  - 請求從列表移除
  - 申請者未成為成員
  - 申請者可能收到拒絕通知

#### TC-A-013: 管理員可以將普通成員設為管理員
- **優先級**: P0
- **前置條件**: 
  - 讀書會有普通成員
  - 以管理員身份登入
- **測試步驟**:
  1. 在成員列表找到普通成員
  2. 點擊成員操作選單
  3. 選擇「設為管理員」
  4. 確認操作
- **預期結果**: 
  - 成員角色更新為管理員
  - 該成員獲得管理員權限
  - 成員列表更新顯示新角色

#### TC-A-014: 管理員可以將管理員降級為普通成員
- **優先級**: P1
- **前置條件**: 
  - 讀書會有其他管理員
  - 以擁有者或管理員身份登入
- **測試步驟**:
  1. 在成員列表找到管理員
  2. 點擊「移除管理員權限」
  3. 確認操作
- **預期結果**: 
  - 管理員降級為普通成員
  - 該成員失去管理員權限

#### TC-A-015: 管理員可以移除普通成員
- **優先級**: P0
- **前置條件**: 
  - 讀書會有普通成員
- **測試步驟**:
  1. 在成員列表找到普通成員
  2. 點擊「移除成員」
  3. 確認移除
- **預期結果**: 
  - 成員從讀書會移除
  - 該成員無法訪問讀書會內容
  - 成員列表更新

#### TC-A-016: 管理員無法移除擁有者
- **優先級**: P1
- **前置條件**: 以管理員（非擁有者）身份登入
- **測試步驟**:
  1. 在成員列表找到擁有者
  2. 檢查操作選項
- **預期結果**: 
  - 擁有者沒有「移除」選項
  - 或點擊移除時顯示錯誤訊息

---

### C. 活動管理測試 (8 個測試案例)

#### TC-A-017: 管理員可以建立新活動
- **優先級**: P0
- **前置條件**: 以管理員身份登入讀書會
- **測試步驟**:
  1. 導航至讀書會詳細頁面
  2. 點擊「建立活動」按鈕
  3. 填寫活動資訊：
     - 名稱：「WebDriver 測試活動」
     - 描述：「這是自動化測試建立的活動」
     - 時間：未來時間
     - 會議連結：「https://meet.google.com/test」
  4. 點擊「發布」
- **預期結果**: 
  - 活動建立成功
  - 活動顯示在讀書會活動列表
  - 所有成員收到通知（EVENT_CREATED）

#### TC-A-018: 管理員可以設定活動資訊（名稱、描述、時間、連結）
- **優先級**: P0
- **前置條件**: 正在建立新活動
- **測試步驟**:
  1. 驗證所有必填欄位存在
  2. 驗證時間選擇器功能
  3. 驗證連結格式驗證
- **預期結果**: 
  - 所有欄位可正常輸入
  - 時間選擇器顯示正確
  - 無效連結顯示錯誤訊息

#### TC-A-019: 管理員可以設定活動參與人數上限
- **優先級**: P1
- **前置條件**: 正在建立新活動
- **測試步驟**:
  1. 找到「參與人數上限」選項
  2. 設定上限為 10 人
  3. 儲存活動
- **預期結果**: 
  - 上限設定成功
  - 報名人數達到上限後顯示「已額滿」

#### TC-A-020: 管理員可以編輯已建立的活動
- **優先級**: P0
- **前置條件**: 
  - 已有未開始的活動
  - 以管理員身份登入
- **測試步驟**:
  1. 找到已建立的活動
  2. 點擊「編輯」按鈕
  3. 修改活動名稱和描述
  4. 點擊「儲存」
- **預期結果**: 
  - 活動資訊成功更新
  - 已報名成員收到修改通知
  - 活動列表顯示更新後的資訊

#### TC-A-021: 管理員可以刪除未開始的活動（需二次確認）
- **優先級**: P0
- **前置條件**: 已有未開始的活動
- **測試步驟**:
  1. 找到未開始的活動
  2. 點擊「刪除」按鈕
  3. 確認刪除對話框出現
  4. 點擊「確認刪除」
- **預期結果**: 
  - 顯示二次確認對話框
  - 活動成功刪除
  - 已報名成員收到取消通知
  - 活動從列表移除

#### TC-A-022: 管理員無法刪除已過期的活動
- **優先級**: P1
- **前置條件**: 有已過期的活動
- **測試步驟**:
  1. 找到已過期的活動
  2. 檢查操作選項
- **預期結果**: 
  - 已過期活動沒有「刪除」按鈕
  - 或顯示為「已結束」狀態，無法操作

#### TC-A-023: 活動修改後自動通知已報名成員
- **優先級**: P1
- **前置條件**: 
  - 活動有成員報名
  - 以管理員身份編輯活動
- **測試步驟**:
  1. 編輯活動資訊
  2. 儲存變更
  3. 切換至普通成員帳號（980072g@gmail.com）
  4. 查看通知中心
- **預期結果**: 
  - 成員收到活動修改通知
  - 通知包含修改內容摘要

#### TC-A-024: 活動刪除後自動通知已報名成員
- **優先級**: P1
- **前置條件**: 
  - 活動有成員報名
  - 以管理員身份刪除活動
- **測試步驟**:
  1. 刪除活動
  2. 切換至普通成員帳號
  3. 查看通知中心
- **預期結果**: 
  - 成員收到活動取消通知
  - 通知說明活動已被刪除

---

## 測試執行統計

- **總測試案例數**: 24
- **優先級分布**:
  - P0 (Critical): 16 個
  - P1 (High): 7 個
  - P2 (Medium): 1 個
- **測試覆蓋範圍**:
  - 讀書會設定管理: 8 個
  - 成員管理: 8 個
  - 活動管理: 8 個

---

## 測試環境配置

### 瀏覽器配置
- Chrome Headless 模式
- 視窗大小: 1920x1080
- 隱身模式（避免快取干擾）

### 等待策略
- 隱式等待: 5000ms
- 頁面載入超時: 30000ms
- 腳本執行超時: 60000ms

### 測試數據清理
- 測試完成後恢復原始讀書會設定
- 刪除測試建立的活動
- 不影響生產環境真實數據

---

**文件建立日期**: 2025-12-19  
**測試執行者**: WebdriverIO Automated Test Suite  
**下次更新**: 測試執行完成後更新結果
