# 6. Epic 2: 讀書會管理與探索

## Epic 2.1: 建立讀書會 (Create)
**作為** 一個平台用戶  
**我想要** 建立一個新的讀書會  
**以便於** 我可以組織和管理一個圍繞特定書籍或主題的社群  

**驗收標準:**
- 用戶可以設定讀書會名稱（必填，50字元內）、簡介（選填，500字元內）、封面圖片（選填）。
- 用戶可以將讀書會設定為「公開」（任何人可見可加入）或「私密」（僅限邀請）。
- 建立成功後，建立者自動成為該讀書會的「擁有者」。
- 需要為讀書會設定至少一個主題標籤，以利於分類和搜尋。

**優先級:** 高 | **故事點數:** 8 | **Epic:** 讀書會管理

---

## Epic 2.2: 探索與查看讀書會 (Read)
**作為** 一個平台用戶  
**我想要** 瀏覽所有公開的讀書會列表，並能查看其詳細資訊  
**以便於** 我可以找到感興趣的社群並決定是否加入  

**驗收標準:**
- 平台提供一個「探索」頁面，以卡片形式展示所有「公開」的讀書會。
- 卡片上應顯示讀書會的封面圖片、名稱、成員數和簡介摘要。
- 探索頁面應提供關鍵字搜尋功能和主題標籤篩選功能。
- 點擊任一讀書會可進入其詳細頁面，查看完整簡介、成員列表、目前閱讀書籍等資訊。

**優先級:** 高 | **故事點數:** 5 | **Epic:** 讀書會管理

---

## Epic 2.3: 加入與退出讀書會 (Update - Membership)
**作為** 一個平台用戶  
**我想要** 能夠加入公開的讀書會，或退出我已加入的讀書會  
**以便於** 我可以靈活管理我的社群參與  

**驗收標準:**
- 在公開讀書會的詳細頁面，用戶點擊「加入」按鈕即可成為成員。
- 對於私密讀書會，用戶可以發送「加入請求」，待管理員批准。
- 用戶可以在自己的個人儀表板或讀書會頁面選擇「退出」已加入的社群。

**優先級:** 高 | **故事點數:** 5 | **Epic:** 讀書會管理

---

## Epic 2.4: 管理讀書會 (Update - Details)
**作為** 一個讀書會的「擁有者」或「管理員」  
**我想要** 編輯我管理的讀書會的資訊和成員  
**以便於** 我可以更新社群的最新動態並維持社群品質  

**驗收標準:**
- 擁有者/管理員可以修改讀書會的名稱、簡介、封面圖片和公開/私密狀態。
- 擁有者/管理員可以管理成員，包括批准「加入請求」、將成員設為管理員、或將成員移除。
- 擁有者可以轉讓「擁有者」身份給其他成員。

**優先級:** 中 | **故事點數:** 5 | **Epic:** 讀書會管理

---

## Epic 2.5: 刪除讀書會 (Delete)
**作為** 一個讀書會的「擁有者」  
**我想要** 刪除我建立的讀書會  
**以便於** 我可以移除不再活躍或已結束的社群  

**驗收標準:**
- 只有讀書會的「擁有者」可以執行刪除操作。
- 刪除前需要有明確的二次確認提示，告知此操作不可逆。
- 刪除後，所有相關資料（成員關係、討論等）將被封存或永久刪除（根據產品策略決定）。

**優先級:** 低 | **故事點數:** 3 | **Epic:** 讀書會管理

---

## Epic 2.6: 讀書會活動管理 (MVP)
**作為** 一個讀書會的成員或管理員  
**我想要** 發起、查看和參與讀書會活動  
**以便於** 組織線上討論會並與其他成員互動  

### 功能概述
讀書會活動是讀書會成員進行同步交流與討論的核心功能。活動包含時間、地點（線上會議連結）、討論內容等資訊，成員可以報名參加並接收提醒通知。

### 資料模型

**Event (活動實體)**
- `event_id` - 活動唯一識別碼 (UUID)
- `club_id` - 所屬讀書會 (FK)
- `title` - 活動名稱 (必填，最多 100 字元)
- `description` - 活動內容描述 (必填，最多 2000 字元)
- `event_datetime` - 活動時間 (必填，ISO 8601 格式)
- `meeting_url` - 線上會議連結 (必填，有效 URL)
- `organizer_id` - 發起人 (FK，創建者)
- `max_participants` - 參與人數上限 (選填，null = 無限制)
- `status` - 活動狀態：`draft`(草稿) / `published`(已發布) / `completed`(已結束) / `cancelled`(已取消)
- `created_at` / `updated_at` - 建立與更新時間戳記

**EventParticipant (參與者關聯)**
- `event_id` + `user_id` - 複合主鍵
- `registered_at` - 報名時間
- `status` - 參與狀態：`registered`(已報名) / `cancelled`(已取消)

### 驗收標準

**Story 2.6.1: 建立活動**
- 讀書會成員可以建立活動，填寫活動名稱、時間、會議連結、討論內容
- 可設定參與人數上限（選填，預設無限制）
- 支援儲存為草稿或直接發布
- 發布後，讀書會所有成員收到活動建立通知
- 活動時間必須為未來時間，不可設定過去時間

**Story 2.6.2: 瀏覽活動列表**
- 讀書會頁面顯示該會所有已發布的活動列表
- 活動卡片顯示：活動名稱、時間、發起人、已報名人數/上限
- 區分「即將舉行」和「已結束」的活動
- 活動按時間排序（即將舉行的活動優先）

**Story 2.6.3: 查看活動詳情**
- 點擊活動可進入詳細頁面
- 顯示完整資訊：標題、時間、會議連結、描述、發起人
- 顯示已報名參與者名單（頭像 + 名稱）
- 顯示當前報名狀態和剩餘名額

**Story 2.6.4: 報名與取消報名**
- 讀書會成員可以報名參加已發布的活動
- 當人數達到上限時，報名按鈕變為禁用狀態並顯示「已額滿」
- 已報名的成員可以取消報名（活動開始前）
- 報名/取消報名後立即更新參與者名單和人數統計

**Story 2.6.5: 編輯與取消活動**
- 活動發起人可以編輯活動資訊（僅限未開始且未取消的活動）
- 編輯後，已報名者收到活動變更通知
- 發起人可以取消活動，取消後所有已報名者收到取消通知
- 已取消或已結束的活動不可再編輯

**Story 2.6.6: 活動提醒通知**
- 活動開始前 1 小時，系統自動發送提醒給所有已報名者
- 提醒內容包含：活動名稱、時間、會議連結
- 活動結束後，系統自動將狀態更新為 `completed`

**優先級:** 高 | **故事點數:** 13 | **Epic:** 讀書會管理

**技術考量:**
- 需要實作定時任務 (Cron Job) 處理活動提醒與狀態更新
- 會議連結驗證需支援常見視訊會議平台（Zoom, Google Meet, Teams 等）
- 考慮時區處理，建議統一使用 UTC 儲存，前端依用戶時區顯示

---
