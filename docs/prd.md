# 線上讀書會平台 產品需求文件 (PRD)

**專案**: 線上讀書會平台 - 產品路線圖  
**版本**: v2.1  
**日期**: 2025-10-20  
**負責人**: John (PM)

---

## 1. 目標與背景脈絡

### 目標
- 建立線上讀書會平台的 MVP 基礎架構，提供完整的用戶管理系統
- 實現用戶註冊、登入（含第三方登入）和個人檔案管理功能
- 建立穩固的開發環境和技術基礎，支援後續 Epic 開發
- 提供可展示和測試的基礎平台版本

### 背景脈絡
本 PRD 初始專注於線上讀書會平台的第一階段開發（Epic 1），旨在建立完整的基礎建設。經過與團隊的深入討論，目前文件已擴展為一份涵蓋產品前四個核心 Epic 的綜合性產品需求文件。我們不僅定義了從用戶基礎建設到社群管理、學習協作的完整功能，也規劃了詳細的前端頁面架構。

本文件將作為產品開發的核心指南，確保各階段開發目標明確，並為後續的社群管理（Epic 2）、學習協作（Epic 3）和智能化功能（Epic 4）奠定堅實且一致的基礎。

### 變更記錄
| 日期 | 版本 | 描述 | 作者 |
|---|---|---|---|
| 2025-10-20 | v2.1 | 擴展完整頁面架構，新增 17 個核心頁面路由規劃與設計系統。 | John (PM) |
| 2025-10-14 | v2.0 | 定義 Epic 2, 3, 4 的詳細使用者故事，並更新產品路線圖。 | John (PM) |
| 2025-10-04 | v1.0 | Epic 1 PRD 初版，基於 Analyst 需求分析 | John (PM) |

---

## 2. 功能需求

### 基礎建設需求
- **FR1.1**: 系統必須提供完整的 Monorepo 專案架構，支援前端 (React.js) 和後端 (FastAPI) 開發
- **FR1.2**: 系統必須建立 PostgreSQL 資料庫架構，使用 SQLModel ORM 進行資料管理
- **FR1.3**: 系統必須提供完整的開發工具鏈：TypeScript、ESLint、Prettier、測試框架

### 用戶認證需求
- **FR1.4**: 用戶可以使用 Email 和密碼進行帳號註冊，包含基本資料驗證
- **FR1.5**: 用戶可以使用已註冊的 Email 和密碼登入系統
- **FR1.6**: 用戶可以使用 Google 帳號進行第三方登入和註冊
- **FR1.7**: 系統必須提供安全的 JWT token 管理和 session 控制

### 個人檔案需求
- **FR1.8**: 用戶可以查看和編輯個人基本資料（名稱、頭像、簡介）
- **FR1.9**: 用戶可以管理興趣標籤，包含預設標籤選擇和自定義標籤
- **FR1.10**: 用戶可以上傳和管理個人頭像圖片
- **FR1.11**: 系統必須提供個人儀表板，展示用戶基本資訊和平台導航

---

## 3. 非功能需求

- **NFR1.1**: 系統 API 回應時間必須在 500ms 內完成
- **NFR1.2**: 前端頁面載入時間必須在 3 秒內完成
- **NFR1.3**: 系統必須支援 RWD 響應式設計，適配手機和桌面裝置
- **NFR1.4**: 用戶密碼必須進行 bcrypt 雜湊處理，確保安全性
- **NFR1.5**: 系統必須實作基本的安全防護：Rate limiting、CSRF 保護、XSS 防護
- **NFR1.6**: 程式碼測試覆蓋率必須達到 80% 以上

---

## 4. UI/UX 設計目標

### 視覺風格
- **主色調**: 深藍色系 (#1E40AF) 傳達專業和信賴感
- **次要色調**: 淺灰色 (#F3F4F6) 用於背景，綠色 (#10B981) 用於成功狀態
- **字體**: Inter 或 system-ui 確保跨平台一致性
- **設計理念**: 簡潔、專業、可信賴、社群感

### 完整頁面架構與路由

#### **Epic 1: 用戶系統頁面**
1. **註冊頁面** (`/register`): Email、密碼、確認密碼、顯示名稱 + Google 登入
2. **登入頁面** (`/login`): Email、密碼 + Google 登入選項
3. **個人儀表板** (`/dashboard`): 用戶資訊展示和平台導航
4. **個人檔案** (`/profile`): 基本資料編輯、頭像上傳、興趣標籤
5. **帳號設定** (`/settings`): 安全設定、隱私設定、會話管理

#### **Epic 2: 讀書會管理頁面**
6. **讀書會探索** (`/clubs`): 卡片網格展示所有公開讀書會，支援搜尋與篩選
7. **讀書會詳細** (`/clubs/:clubId`): 讀書會完整資訊、Tab 導航 (概覽/討論/成員/資源)
8. **建立讀書會** (`/clubs/create`): 多步驟表單建立新讀書會
9. **讀書會設定** (`/clubs/:clubId/settings`): 管理員專用，編輯讀書會資訊與成員管理

#### **Epic 3: 學習協作頁面**
10. **討論區列表** (`/clubs/:clubId/discussions`): 顯示該讀書會所有討論主題
11. **討論串詳細** (`/clubs/:clubId/discussions/:topicId`): 單一討論主題的完整對話串
12. **建立討論** (`/clubs/:clubId/discussions/new`): 發表新討論主題
13. **資源檔案庫** (`/clubs/:clubId/resources`): 檔案上傳、下載與協作筆記
14. **閱讀進度** (`/clubs/:clubId/progress`): 視覺化進度追蹤與成員進度概覽

#### **Epic 4 & 共用頁面**
15. **通知中心** (`/notifications`): 統一的通知列表與管理
16. **全站搜尋** (`/search`): 搜尋讀書會、討論、用戶
17. **用戶公開檔案** (`/users/:userId`): 其他用戶的公開資訊頁面

### 響應式設計原則
- **手機版** (320-767px): 
  - 單欄佈局，全屏表單設計
  - 導航改為漢堡選單
  - Tab 導航改為下拉選單
  - FAB 浮動按鈕用於主要操作
  
- **平板版** (768-1023px): 
  - 適度調整間距與字體大小
  - 2 欄網格佈局 (探索頁面)
  - 保持桌面版主要佈局結構
  
- **桌面版** (1024px+): 
  - 居中卡片設計，最大寬度 1280px
  - 3 欄網格佈局 (探索頁面)
  - 側邊欄導航常駐顯示

### 設計系統組件
- **按鈕**: 主要 (藍)、次要 (灰)、危險 (紅)、成功 (綠)
- **表單**: 統一的輸入框樣式、錯誤提示、驗證狀態
- **卡片**: 陰影效果、懸停狀態、圓角設計
- **導航**: 頂部導航欄、側邊欄、麵包屑、Tab 切換
- **反饋**: Toast 通知、Modal 彈窗、載入狀態、骨架屏
- **圖示**: 使用 Heroicons 或 Lucide Icons 保持一致性

---

## 5. Epic 1 User Stories 詳細規格

### Epic 1.1: 新用戶註冊體驗
**作為** 一個想要加入讀書會平台的新用戶  
**我想要** 能夠快速且安全地建立個人帳號  
**以便於** 開始使用平台的各項功能  

**驗收標準:**
- 用戶可以使用有效的 Email 地址和強密碼進行註冊
- 系統會驗證 Email 格式和密碼強度要求（至少 8 字符，包含大小寫字母和數字）
- 用戶需要提供顯示名稱作為平台識別
- 註冊成功後自動登入並導向歡迎頁面
- 重複 Email 註冊會顯示友善的錯誤提示

**優先級:** 高 | **故事點數:** 5 | **Epic:** 基礎建設

---

### Epic 1.2: 便捷登入體驗
**作為** 已註冊的平台用戶  
**我想要** 能夠快速且安全地登入我的帳號  
**以便於** 存取我的個人資料和參與讀書會活動

**驗收標準:**
- 用戶可以使用註冊的 Email 和密碼登入
- 系統提供「記住我」選項延長登入狀態
- 登入失敗時提供明確的錯誤訊息
- 多次登入失敗會觸發帳號保護機制
- 登入成功後導向個人儀表板

**優先級:** 高 | **故事點數:** 3 | **Epic:** 基礎建設

---

### Epic 1.3: Google 社交登入
**作為** 偏好使用社交帳號的用戶  
**我想要** 能夠使用 Google 帳號快速登入或註冊  
**以便於** 省去記憶額外密碼的麻煩  

**驗收標準:**
- 新用戶可以使用 Google 帳號直接註冊
- 既有用戶可以使用 Google 帳號登入（如已綁定）
- 首次 Google 登入會自動建立帳號並要求補充顯示名稱
- Google 帳號登入後與原有帳號功能完全一致
- 提供帳號綁定/解綁 Google 的選項

**優先級:** 中 | **故事點數:** 8 | **Epic:** 基礎建設

---

### Epic 1.4: 個人檔案管理
**作為** 平台用戶  
**我想要** 能夠管理和展示我的個人檔案  
**以便於** 讓其他讀書會成員更了解我的興趣和背景  

**驗收標準:**
- 用戶可以編輯顯示名稱、個人簡介
- 用戶可以上傳個人頭像（支援 JPG/PNG，最大 2MB）
- 用戶可以管理興趣標籤（最多 20 個，每個最多 50 字符）
- 系統提供預設興趣標籤選項（如：文學、商業、科技等）
- 用戶可以新增自定義興趣標籤
- 檔案變更立即儲存並顯示成功訊息

**優先級:** 高 | **故事點數:** 5 | **Epic:** 基礎建設

---

### Epic 1.5: 個人儀表板
**作為** 登入的用戶  
**我想要** 看到個人化的儀表板首頁  
**以便於** 快速了解我的帳號狀態和平台導航  

**驗收標準:**
- 儀表板顯示用戶基本資訊（頭像、名稱、加入日期）
- 展示平台主要功能的導航連結
- 顯示帳號安全狀態（如：Email 驗證狀態）
- 提供快速存取個人檔案編輯的入口
- 顯示最近活動摘要（為未來功能預留空間）

**優先級:** 中 | **故事點數:** 3 | **Epic:** 基礎建設

---

### Epic 1.6: 會話與安全管理
**作為** 重視帳號安全的用戶  
**我想要** 能夠管理我的登入會話和查看帳號活動  
**以便於** 確保我的帳號安全性  

**驗收標準:**
- 用戶可以查看目前活躍的登入會話（裝置、位置、時間）
- 用戶可以強制登出特定裝置的會話
- 系統記錄重要的帳號活動（登入、檔案變更、密碼變更）
- 用戶可以查看個人的帳號活動記錄
- 異常登入活動會有安全提醒

**優先級:** 中 | **故事點數:** 5 | **Epic:** 基礎建設

---

## 6. Epic 2: 讀書會管理與探索

### Epic 2.1: 建立讀書會 (Create)
**作為** 一個平台用戶  
**我想要** 建立一個新的讀書會  
**以便於** 我可以組織和管理一個圍繞特定書籍或主題的社群  

**驗收標準:**
- 用戶可以設定讀書會名稱（必填，50字元內）、簡介（選填，500字元內）、封面圖片（選填）。
- 用戶可以將讀書會設定為「公開」（任何人可見可加入）或「私密」（僅限邀請）。
- 建立成功後，建立者自動成為該讀書會的「擁有者」。
- 需要為讀書會設定至少一個主題標籤，以利於分類和搜尋。

**優先級:** 高 | **故事點數:** 8 | **Epic:** 讀書會管理

---

### Epic 2.2: 探索與查看讀書會 (Read)
**作為** 一個平台用戶  
**我想要** 瀏覽所有公開的讀書會列表，並能查看其詳細資訊  
**以便於** 我可以找到感興趣的社群並決定是否加入  

**驗收標準:**
- 平台提供一個「探索」頁面，以卡片形式展示所有「公開」的讀書會。
- 卡片上應顯示讀書會的封面圖片、名稱、成員數和簡介摘要。
- 探索頁面應提供關鍵字搜尋功能和主題標籤篩選功能。
- 點擊任一讀書會可進入其詳細頁面，查看完整簡介、成員列表、目前閱讀書籍等資訊。

**優先級:** 高 | **故事點數:** 5 | **Epic:** 讀書會管理

---

### Epic 2.3: 加入與退出讀書會 (Update - Membership)
**作為** 一個平台用戶  
**我想要** 能夠加入公開的讀書會，或退出我已加入的讀書會  
**以便於** 我可以靈活管理我的社群參與  

**驗收標準:**
- 在公開讀書會的詳細頁面，用戶點擊「加入」按鈕即可成為成員。
- 對於私密讀書會，用戶可以發送「加入請求」，待管理員批准。
- 用戶可以在自己的個人儀表板或讀書會頁面選擇「退出」已加入的社群。

**優先級:** 高 | **故事點數:** 5 | **Epic:** 讀書會管理

---

### Epic 2.4: 管理讀書會 (Update - Details)
**作為** 一個讀書會的「擁有者」或「管理員」  
**我想要** 編輯我管理的讀書會的資訊和成員  
**以便於** 我可以更新社群的最新動態並維持社群品質  

**驗收標準:**
- 擁有者/管理員可以修改讀書會的名稱、簡介、封面圖片和公開/私密狀態。
- 擁有者/管理員可以管理成員，包括批准「加入請求」、將成員設為管理員、或將成員移除。
- 擁有者可以轉讓「擁有者」身份給其他成員。

**優先級:** 中 | **故事點數:** 5 | **Epic:** 讀書會管理

---

### Epic 2.5: 刪除讀書會 (Delete)
**作為** 一個讀書會的「擁有者」  
**我想要** 刪除我建立的讀書會  
**以便於** 我可以移除不再活躍或已結束的社群  

**驗收標準:**
- 只有讀書會的「擁有者」可以執行刪除操作。
- 刪除前需要有明確的二次確認提示，告知此操作不可逆。
- 刪除後，所有相關資料（成員關係、討論等）將被封存或永久刪除（根據產品策略決定）。

**優先級:** 低 | **故事點數:** 3 | **Epic:** 讀書會管理

---

## 7. Epic 3: 學習協作與互動

### Epic 3.1: 讀書進度追蹤
**作為** 一個讀書會的成員  
**我想要** 能夠追蹤並分享我對當前書籍的閱讀進度  
**以便於** 保持學習動力，並讓社群成員了解彼此的進度，促進同步討論  

**驗收標準:**
- 在讀書會頁面，成員可以更新他們對指定書籍的閱讀進度（例如，透過頁數或百分比）。
- 讀書會主頁應有一個視覺化的圖表或列表，展示所有成員的平均進度和個人進度概覽。
- 讀書會管理員可以設定書籍的總頁數或章節，作為進度追蹤的依據。
- 系統可以選擇性地向進度落後的成員發送友善的提醒通知。

**優先級:** 中 | **故事點數:** 8 | **Epic:** 學習協作

---

### Epic 3.2: 讀書會內部討論區
**作為** 一個讀書會的成員  
**我想要** 一個專屬的討論區，可以在其中發表主題、提問和回覆  
**以便於** 與其他成員就書籍內容進行深入、非同步的交流  

**驗收標準:**
- 每個讀書會都有一個獨立的、僅限成員訪問的討論區。
- 成員可以建立新的討論主題，包含標題和內容。
- 成員可以回覆任何討論主題，形成對話串。
- 發文和回覆支援基本的文字格式（如粗體、斜體、清單）和引用功能。
- 用戶會收到關於他們所參與的討論串的新回覆通知。

**優先級:** 高 | **故事點數:** 8 | **Epic:** 學習協作

---

### Epic 3.3: 資源分享與協作筆記
**作為** 一個讀書會的成員  
**我想要** 一個可以上傳分享檔案和共同編輯筆記的空間  
**以便於** 集中管理學習資料，並與成員共同沉澱知識  

**驗收標準:**
- 每個讀書會頁面內都有一個「資源」或「檔案庫」分頁。
- 成員可以上傳常見類型的檔案（如 PDF, DOCX, PNG, JPG），並設定檔案大小限制（例如 5MB）。
- 提供一個簡易的協作筆記功能（類似一個共享的 Wiki 或 Google Doc），所有成員都可以查看和編輯。
- 上傳的檔案和協作筆記僅對該讀書會的成員可見。

**優先級:** 中 | **故事點數:** 5 | **Epic:** 學習協作

---

## 8. Epic 4: 智能互動與個人化體驗

### Epic 4.1: 通知與提醒功能
**作為** 一個活躍的平台用戶  
**我想要** 及時收到與我相關的活動通知和提醒  
**以便於** 我不會錯過重要的討論、活動，並能保持在社群中的參與度  

**驗收標準:**
- 用戶會在以下情況收到平台內通知：
  - 當有人回覆了你在討論區的貼文。
  - 當你申請加入的私密讀書會被管理員批准時。
  - 當讀書會管理員發布了新的公告時。
  - 當有新的讀書會活動（如線上會議）被安排時（為未來功能預留）。
- 平台應有一個統一的通知中心，讓用戶可以查看所有歷史通知。
- 用戶可以在個人設定中，管理他們希望收到的通知類型（例如，可以關閉某些不重要的通知）。
- 通知應包含清晰的摘要和一個直接跳轉到相關內容（如討論串、活動頁面）的連結。

**優先級:** 高 | **故事點數:** 8 | **Epic:** 智能互動

---

### 未來擴展功能

以下是規劃中，但在當前階段優先級較低的功能，將在核心功能完善後進行探索：

- **智能推薦系統**: 
  - **目標**: 根據用戶的興趣標籤、參加的讀書會和閱讀歷史，向他們推薦可能感興趣的新讀書會。
  - **核心價值**: 提升用戶發現新社群的能力，增加平台的黏著度。

- **學習分析儀表板**:
  - **目標**: 為用戶提供個人化的學習數據分析，如閱讀速度、參與討論的頻率、完成的書籍數量等。
  - **核心價值**: 幫助用戶量化自己的學習成效，提供成就感和進一步的學習動力。

---

## 9. 商業指標與成功標準

### 用戶體驗指標
- **註冊轉換率**: 造訪註冊頁面用戶的完成率 > 85%
- **登入成功率**: 用戶登入嘗試的成功率 > 95%
- **檔案完成率**: 用戶完成基本檔案設定的比例 > 80%
- **Google OAuth 採用率**: 選擇 Google 登入的新用戶比例 > 40%

### 技術品質指標  
- **頁面載入時間**: 主要頁面載入完成 < 3 秒
- **系統可用性**: 月度正常運行時間 > 99.5%
- **安全事件**: 零重大安全漏洞
- **錯誤率**: 用戶操作錯誤率 < 1%

---

## 10. 風險評估與緩解策略

### 產品風險
**風險**: 用戶對新平台的接受度不確定  
**影響**: 中等 | **可能性**: 中等  
**緩解措施**: 
- 提供清晰的新手引導流程
- 收集早期用戶反饋並快速迭代
- 確保核心註冊/登入流程的順暢體驗

**風險**: Google OAuth 整合複雜度超出預期  
**影響**: 低 | **可能性**: 中等  
**緩解措施**:
- 將 Google OAuth 作為 MVP 後的增強功能
- 確保基本 Email/密碼登入功能完善
- 預留額外開發時間進行整合測試

### 技術風險
**風險**: 用戶資料安全與隱私保護  
**影響**: 高 | **可能性**: 低  
**緩解措施**:
- 實作完整的密碼雜湊和安全儲存
- 定期進行安全審查和漏洞掃描
- 遵循 GDPR 和相關資料保護法規

---

## 11. 下一步行動計劃

### 立即執行項目
1. **建立契約文件體系**: 執行 [Contract Documentation PRD](contracts/contract-documentation-prd.md) 以建立完整的開發契約體系（Database Schema, API Access Guide, Gherkin Features, Data Contract），支援後續開發流程
2. **啟動開發**: PO 將 Epic 2 的 User Stories 轉換為具體的開發任務，並放入待辦清單
3. **前端實作**: 前端團隊根據已確認的 UI/UX 設計稿，開始實作 Epic 2 的頁面與組件
4. **後端開發**: 後端團隊根據技術規格，開始開發 Epic 2 所需的 API 端點與資料庫模型
5. **持續整合**: 建立 Epic 2 的自動化測試案例，並納入 CI/CD 流程

### 產品路線圖 (Roadmap)
- **2025 Q4**: 完成並上線 Epic 1 (基礎建設與用戶系統)。
- **2026 Q1**: 開發並發布 Epic 2 (讀書會管理與探索)。
- **2026 Q2**: 開發並發布 Epic 3 (學習協作與互動)。
- **2026 Q3**: 開發並發布 Epic 4 (通知與提醒功能)。

---

**文件狀態**: ✅ 已更新為 v2.1，包含完整頁面架構與 UI/UX 設計規劃。
**建立日期**: 2025-10-04  
**最後更新**: 2025-10-20